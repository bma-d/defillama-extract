# defillama-extract - Epic Breakdown

## Table of Contents

- [defillama-extract - Epic Breakdown](#table-of-contents)
  - [Overview](./overview.md)
  - [Functional Requirements Inventory](./functional-requirements-inventory.md)
  - [FR Coverage Map](./fr-coverage-map.md)
  - [Epic 1: Foundation](./epic-1-foundation.md)
    - [Story 1.1: Initialize Go Module and Project Structure](./epic-1-foundation.md#story-11-initialize-go-module-and-project-structure)
    - [Story 1.2: Implement Configuration Loading from YAML](./epic-1-foundation.md#story-12-implement-configuration-loading-from-yaml)
    - [Story 1.3: Implement Environment Variable Overrides](./epic-1-foundation.md#story-13-implement-environment-variable-overrides)
    - [Story 1.4: Implement Structured Logging with slog](./epic-1-foundation.md#story-14-implement-structured-logging-with-slog)
  - [Epic 2: API Integration](./epic-2-api-integration.md)
    - [Story 2.1: Implement Base HTTP Client with Timeout and User-Agent](./epic-2-api-integration.md#story-21-implement-base-http-client-with-timeout-and-user-agent)
    - [Story 2.2: Implement Oracle Endpoint Fetcher](./epic-2-api-integration.md#story-22-implement-oracle-endpoint-fetcher)
    - [Story 2.3: Implement Protocol Endpoint Fetcher](./epic-2-api-integration.md#story-23-implement-protocol-endpoint-fetcher)
    - [Story 2.4: Implement Retry Logic with Exponential Backoff](./epic-2-api-integration.md#story-24-implement-retry-logic-with-exponential-backoff)
    - [Story 2.5: Implement Parallel Fetching with errgroup](./epic-2-api-integration.md#story-25-implement-parallel-fetching-with-errgroup)
    - [Story 2.6: Implement API Request Logging](./epic-2-api-integration.md#story-26-implement-api-request-logging)
  - [Epic 3: Data Processing Pipeline](./epic-3-data-processing-pipeline.md)
    - [Story 3.1: Implement Protocol Filtering by Oracle Name](./epic-3-data-processing-pipeline.md#story-31-implement-protocol-filtering-by-oracle-name)
    - [Story 3.2: Extract Protocol Metadata and TVS Data](./epic-3-data-processing-pipeline.md#story-32-extract-protocol-metadata-and-tvs-data)
    - [Story 3.3: Calculate Total TVS and Chain Breakdown](./epic-3-data-processing-pipeline.md#story-33-calculate-total-tvs-and-chain-breakdown)
    - [Story 3.4: Calculate Category Breakdown](./epic-3-data-processing-pipeline.md#story-34-calculate-category-breakdown)
    - [Story 3.5: Rank Protocols and Identify Largest](./epic-3-data-processing-pipeline.md#story-35-rank-protocols-and-identify-largest)
    - [Story 3.6: Calculate Historical Change Metrics](./epic-3-data-processing-pipeline.md#story-36-calculate-historical-change-metrics)
    - [Story 3.7: Build Complete Aggregation Pipeline](./epic-3-data-processing-pipeline.md#story-37-build-complete-aggregation-pipeline)
  - [Epic 4: State & History Management](./epic-4-state-history-management.md)
    - [Story 4.1: Implement State File Structure and Loading](./epic-4-state-history-management.md#story-41-implement-state-file-structure-and-loading)
    - [Story 4.2: Implement State Comparison for Skip Logic](./epic-4-state-history-management.md#story-42-implement-state-comparison-for-skip-logic)
    - [Story 4.3: Implement Atomic State File Updates](./epic-4-state-history-management.md#story-43-implement-atomic-state-file-updates)
    - [Story 4.4: Implement Historical Snapshot Structure](./epic-4-state-history-management.md#story-44-implement-historical-snapshot-structure)
    - [Story 4.5: Implement History Loading from Output File](./epic-4-state-history-management.md#story-45-implement-history-loading-from-output-file)
    - [Story 4.6: Implement Snapshot Deduplication](./epic-4-state-history-management.md#story-46-implement-snapshot-deduplication)
    - [Story 4.7: Implement History Retention (Keep All)](./epic-4-state-history-management.md#story-47-implement-history-retention-keep-all)
    - [Story 4.8: Build State Manager Component](./epic-4-state-history-management.md#story-48-build-state-manager-component)
  - [Epic 5: Output & CLI](./epic-5-output-cli.md)
    - [Story 5.1: Implement Full Output JSON Generation](./epic-5-output-cli.md#story-51-implement-full-output-json-generation)
    - [Story 5.2: Implement Minified Output JSON Generation](./epic-5-output-cli.md#story-52-implement-minified-output-json-generation)
    - [Story 5.3: Implement Summary Output JSON Generation](./epic-5-output-cli.md#story-53-implement-summary-output-json-generation)
    - [Story 5.4: Implement Atomic File Writer](./epic-5-output-cli.md#story-54-implement-atomic-file-writer)
    - [Story 5.5: Implement CLI Flag Parsing](./epic-5-output-cli.md#story-55-implement-cli-flag-parsing)
    - [Story 5.6: Implement Single Extraction Mode](./epic-5-output-cli.md#story-56-implement-single-extraction-mode)
    - [Story 5.7: Implement Daemon Mode with Scheduler](./epic-5-output-cli.md#story-57-implement-daemon-mode-with-scheduler)
    - [Story 5.8: Implement Graceful Shutdown](./epic-5-output-cli.md#story-58-implement-graceful-shutdown)
    - [Story 5.9: Implement Extraction Cycle Logging](./epic-5-output-cli.md#story-59-implement-extraction-cycle-logging)
    - [Story 5.10: Build Complete Main Entry Point](./epic-5-output-cli.md#story-510-build-complete-main-entry-point)
  - [FR Coverage Matrix](./fr-coverage-matrix.md)
  - [Summary](./summary.md)
